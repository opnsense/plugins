{% if helpers.exists('OPNsense.quagga.bgp.enabled') and OPNsense.quagga.bgp.enabled == '1' %}
!
! Zebra configuration saved from vty
!   2017/03/03 20:21:04
!
!
!
!
router ospf
{% if helpers.exists('OPNsense.quagga.bgp.asnumber') and OPNsense.quagga.bgp.asnumber != '' %}
router bgp {{ line }}
{% if helpers.exists('OPNsense.quagga.ospf.passiveinterfaces') and OPNsense.quagga.ospf.passiveinterfaces != '' %}
{% for line in OPNsense.quagga.ospf.passiveinterfaces.split(',') %}
 passive-interface {{ line }}
{% endfor %}{% endif %}
{% if helpers.exists('OPNsense.quagga.ospf.networks.network') %}
{%   for network in helpers.toList('OPNsense.quagga.ospf.networks.network') %}
{%     if network.enabled == '1' %}
 network {{ network.ipaddr }}/{{ network.netmask }} area {{ network.area }}
{%     endif %}
{%   endfor %}
{% endif %}
{% if helpers.exists('OPNsense.quagga.ospf.originate') and OPNsense.quagga.ospf.originate == '1' %}
 default-information originate{% if helpers.exists('OPNsense.quagga.ospf.originatealways') and OPNsense.quagga.ospf.originatealways == '1' %} always {% endif %}

{% endif %}
!
line vty
!
{% endif %}

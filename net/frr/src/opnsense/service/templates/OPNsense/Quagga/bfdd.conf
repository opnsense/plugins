{# included in frr.conf #}
{% if helpers.exists('OPNsense.quagga.bfd.enabled') and OPNsense.quagga.bfd.enabled == '1' %}
bfd
{%   if helpers.exists('OPNsense.quagga.bfd.neighbors.neighbor') %}
{%     for neighbor in helpers.toList('OPNsense.quagga.bfd.neighbors.neighbor') %}
{%       if neighbor.enabled == '1' %}
 peer {{ neighbor.address }} {% if neighbor.multihop|default('0') == '1' %}multihop{% endif +%}
  detect-multiplier {{ neighbor.detect_multiplier }}
  receive-interval {{ neighbor.receive_interval }}
  transmit-interval {{ neighbor.transmit_interval }}
{%       endif %}
{%     endfor %}
{%   endif %}
{% endif %}
